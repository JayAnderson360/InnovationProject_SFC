<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Park Guide Academy - Dashboard</title>
    <link rel="stylesheet" href="course-dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    
    <!-- Firebase Config & Page Logic -->
    <script src="firebase-config.js" defer></script>
    <script src="api.js" defer></script>
    <script src="ui.js" defer></script>
    <script src="app.js" defer></script>
</head>
<body>
    <header class="cd-header">
        <div class="cd-logo-container">
            <img src="../Resources/Images/logo.png" alt="Park Guide Academy Logo" class="cd-logo-icon-img">
            <span class="cd-logo-text">Park Guide Academy</span>
        </div>
        <nav class="cd-nav">
            <ul>
                <li><a href="../index.html" id="nav-home">Home</a></li>
                <li><a href="#" id="nav-dashboard">Dashboard</a></li>
                <li><a href="#" id="nav-my-courses">My Courses</a></li>
                <li><a href="../userprofile.html" id="nav-profile">Profile</a></li>
            </ul>
        </nav>
        <div class="cd-user-display">
            <span id="cd-username-display"></span>
            <img src="" alt="User Avatar" class="cd-user-avatar" id="cd-user-avatar-img">
        </div>
    </header>

    <main class="cd-main-content">
        <section class="cd-welcome-banner">
            <h1 id="cd-welcome-message">Welcome back, John!</h1>
            <p>Continue your journey to become a certified park guide</p>
        </section>

        <section class="cd-controls-container">
            <div class="cd-search-filter" id="cd-general-filters">
                <div class="cd-search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="cd-search-input" placeholder="Search courses...">
                </div>
                <select id="cd-course-type-filter" class="cd-filter-dropdown">
                    <option value="all">All Types</option>
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>

            <div class="cd-my-courses-filter" id="cd-my-courses-status-filter" style="display: none;">
                <label for="my-courses-filter-select">Show:</label>
                <select id="my-courses-filter-select" class="cd-filter-dropdown">
                    <option value="all_my">All My Enrolled</option>
                    <option value="active">Active</option>
                    <option value="completed">Completed</option>
                </select>
            </div>

            <div class="cd-view-toggle">
                <button id="cd-grid-view-btn" class="active"><i class="fas fa-th-large"></i> Grid View</button>
                <button id="cd-list-view-btn"><i class="fas fa-list"></i> List View</button>
            </div>
        </section>

        <section id="cd-course-grid" class="cd-course-grid">
            <!-- Course cards will be dynamically inserted here by ui.js -->
        </section>
    </main>

    <!-- Payment Modal -->
    <div id="paymentModal" class="cd-modal">
        <div class="cd-modal-content">
            <span class="cd-modal-close-btn">&times;</span>
            <h3 id="paymentModalCourseTitle">Course Title</h3>
            <p>Payment: RM<span id="paymentModalCourseFee">0.00</span></p>
            <div class="cd-form-group">
                <label for="paymentProofInput">Upload Proof of Payment:</label>
                <input type="file" id="paymentProofInput" accept="image/*">
                <img id="paymentProofPreview" src="#" alt="Payment Proof Preview" style="max-width: 100%; max-height: 200px; margin-top: 10px; display: none;"/>
            </div>
            <button id="submitPaymentBtn" class="cd-btn cd-btn-primary">Submit Payment</button>
            <p id="paymentModalMessage" class="cd-modal-message"></p>
        </div>
    </div>

</body>
</html>
